<!DOCTYPE html>





<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    search: {
      root: '/',
      path: 'search.xml'
    },
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Feb 1997">
<meta property="og:url" content="http://xiaokeliu666.github.io/index.html">
<meta property="og:site_name" content="Feb 1997">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Feb 1997">
  <link rel="canonical" href="http://xiaokeliu666.github.io/">


<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Feb 1997</title>
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <div class="container sidebar-position-left page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Feb 1997</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Overtime and overdue</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
    <ul id="menu" class="menu">
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archives</a>

  </li>
        <li class="menu-item menu-item-search">
          <a href="javascript:;" class="popup-trigger">
          
            <i class="menu-item-icon fa fa-search fa-fw"></i> <br/>Search</a>
        </li>
      
    </ul>
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>


    </div>
</nav>

</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/08/03/A-secure-scheme-for-data-exchange-AES-RSA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/08/03/A-secure-scheme-for-data-exchange-AES-RSA/" class="post-title-link" itemprop="url">A secure scheme for data exchange: AES + RSA</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-08-03 18:05:55" itemprop="dateCreated datePublished" datetime="2020-08-03T18:05:55-04:00">2020-08-03</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-08-04 16:29:45" itemprop="dateModified" datetime="2020-08-04T16:29:45-04:00">2020-08-04</time>
              </span>
            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <h1 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h1><p> The algorithm described by AES is a <strong>symmetric-key algorithm</strong>, meaning the same key is used for both encrypting and decrypting the data.</p>
<p> Symmetric encryption is a type of encryption where <strong>only one key</strong> (a secret key) is used to both encrypt and decrypt electronic information. The entities communicating via symmetric encryption must exchange the key so that it can be used in the decryption process.</p>
<h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1><p>Asymmetric Encryption is a form of Encryption where <strong>keys come in pairs</strong>. What <strong>one key encrypts, only the other can decrypt</strong>. Frequently (but not necessarily), the keys are interchangeable, in the sense that if key A encrypts a message, then B can decrypt it, and if key B encrypts a message, then key A can decrypt it.</p>
<h1 id="Hybrid-Cryptosystem"><a href="#Hybrid-Cryptosystem" class="headerlink" title="Hybrid Cryptosystem"></a>Hybrid Cryptosystem</h1><h2 id="Interface-data-encyrption"><a href="#Interface-data-encyrption" class="headerlink" title="Interface data encyrption"></a>Interface data encyrption</h2><p>Steps:</p>
<ol>
<li>Client starts and sends request to server.</li>
<li>Server generates a pair of keys(pubKey1 and priKey1) with RSA.</li>
<li>Server sends pubKey1 back to client.</li>
<li>Client generates a pair of keys(pubKey2 and priKey2) with RSA.</li>
<li>Client encrypts pubKey2 with pubKey1.</li>
<li>Client sends pubKey2 back to server.</li>
<li>Server decrypts the ciphertext with priKey1 to get pubKey2. (Because the ciphertext is encrypted by pubKey1)</li>
<li>Server generates symmetric encryption whose length is 16 with AES.</li>
<li>Server encrypts the AES key with pubKey2 and sends to client.</li>
<li>Client decrypts the AES key with priKey2 to get AES key.</li>
<li>Finally, using encrypted key to do the encryption of data transmision.</li>
</ol>
<p>Note:</p>
<ol>
<li>RSA is asymmetric encryption: public key encrypts while private key decrypts.</li>
<li>AES is symmetric encryption: the same key is used for both encrypting and decrypting the data.</li>
<li>Since there is a limitation against size when using RSA, so segmentation is required.</li>
<li>Use the public key of RSA to encrypt AES, then use AES to decrypt/encrypt the content.</li>
</ol>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/27/Spring-REST-6-CRUD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/27/Spring-REST-6-CRUD/" class="post-title-link" itemprop="url">Spring REST 6: CRUD</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-27 20:50:43 / Modified: 21:37:52" itemprop="dateCreated datePublished" datetime="2020-07-27T20:50:43-04:00">2020-07-27</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <h1 id="Annotations"><a href="#Annotations" class="headerlink" title="Annotations"></a>Annotations</h1><h2 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h2><p>The @RestController annotation was introduced in Spring 4.0 to <strong>simplify the creation of RESTful web services</strong>. It’s a convenience annotation that combines @Controller and @ResponseBody – which eliminates the need to annotate every request handling method of the controller class with the @ResponseBody annotation.</p>
<h2 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h2><p>While @RequestParams <strong>extract values from the query string</strong>, @PathVariables <strong>extract values from the URI path</strong>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/foos/&#123;id&#125;"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFooById</span><span class="params">(@PathVariable String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ID: "</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>For @PathVariable, we map on path:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/foos/abc</span><br><span class="line">----</span><br><span class="line">ID: abc</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/foos"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFooByIdUsingQueryParam</span><span class="params">(@RequestParam String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ID: "</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>For @RequestParam, we map on path:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/foos?id=abc</span><br><span class="line">----</span><br><span class="line">ID: abc</span><br></pre></td></tr></table></figure></p>
<h2 id="RequestBody"><a href="#RequestBody" class="headerlink" title="@RequestBody"></a>@RequestBody</h2><p>Simply put, the @RequestBody annotation <strong>maps the HttpRequest body</strong> to a transfer or domain object, enabling automatic deserialization of the inbound HttpRequest body onto a Java object.</p>
<h1 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h1><h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/saveCustomer"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Customer <span class="title">saveCustomer</span><span class="params">(@RequestBody Customer theCustomer)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        save the customer using our service</span></span><br><span class="line">        theCustomer.setId(<span class="number">0</span>);</span><br><span class="line">        customerService.saveCustomer(theCustomer);</span><br><span class="line">        <span class="keyword">return</span> theCustomer;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/search/&#123;theSearchName&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">search</span><span class="params">(@PathVariable String theSearchName)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// search customers from the service</span></span><br><span class="line">    List&lt;Customer&gt; theCustomers = customerService.searchCustomers(theSearchName);</span><br><span class="line">    <span class="keyword">return</span> theCustomers;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/delete/&#123;customerId&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">delete</span><span class="params">(@PathVariable <span class="keyword">int</span> customerId)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        Customer tempCustomer = customerService.getCustomer(customerId);</span></span><br><span class="line">        customerService.delete(customerId);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Delete customer id:"</span> + customerId;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/updateCustomer"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">updateCustomer</span><span class="params">(@RequestBody Customer theCustomer)</span> </span>&#123;</span><br><span class="line">    customerService.saveCustomer(theCustomer);</span><br><span class="line">    <span class="keyword">return</span> theCustomer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h1><p>For get/delete testing, just input the uri and select the right method.<br>For put/post testing, besides the steps above:</p>
<ul>
<li>Select ‘Body’</li>
<li>Select ‘raw’</li>
<li>Select ‘JSON’</li>
<li>Input data in JSON fashion</li>
<li>Send request</li>
</ul>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-5-PathVariable/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-5-PathVariable/" class="post-title-link" itemprop="url">Spring REST 5: @PathVariable</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 21:01:02 / Modified: 21:22:52" itemprop="dateCreated datePublished" datetime="2020-07-25T21:01:02-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <p>Previously, we used @RestController to handle the REST request to get the list of students(<a href="http://localhost:8080/api/students" target="_blank" rel="noopener">http://localhost:8080/api/students</a>).<br>Now, assume we have a list of students, and the client only wants the first one. So we need to retrieve a single student by id: api/getStudentById/{studentId}</p>
<h1 id="Behind-the-scenes"><a href="#Behind-the-scenes" class="headerlink" title="Behind the scenes"></a>Behind the scenes</h1><ol>
<li>We’ll make a request across for /api/students/{studentId}</li>
<li>We’ll have Spring REST along with Jackson and they’ll make a call to the REST service</li>
<li>In our code, we’ll actually return that given student</li>
<li>Jackson will actually convert that student object or that student POJO to JSON and then send it back across to the REST client<h1 id="Development-Process"><a href="#Development-Process" class="headerlink" title="Development Process"></a>Development Process</h1></li>
</ol>
<ul>
<li><p>Add request mapping to Spring REST Service</p>
<ul>
<li>Bind path variable to method parameter using @PathVariable<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/getStudentById/&#123;studentId&#125;"</span>)</span><br><span class="line">    &lt;!-- <span class="function">the parameter should be the same as the content in the <span class="title">bracket</span><span class="params">(studentId)</span> --&gt;</span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> Student <span class="title">getStudentById</span><span class="params">(@PathVariable <span class="keyword">int</span> studentId)</span> </span>&#123;</span><br><span class="line">    List&lt;Student&gt; theStudents = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    theStudents.add(<span class="keyword">new</span> Student(<span class="string">"Poornima"</span>,<span class="string">"Patel"</span>));</span><br><span class="line">    theStudents.add(<span class="keyword">new</span> Student(<span class="string">"Mario"</span>,<span class="string">"Rossi"</span>));</span><br><span class="line">    theStudents.add(<span class="keyword">new</span> Student(<span class="string">"Mary"</span>,<span class="string">"Smith"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> theStudents.get(studentId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Test<br>Postman:<br>GET:<a href="http://localhost:8080/SpringRESTDemo_war_exploded/api/getStudentById/1" target="_blank" rel="noopener">http://localhost:8080/SpringRESTDemo_war_exploded/api/getStudentById/1</a></p>
</li>
</ul>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-4-RestController/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-4-RestController/" class="post-title-link" itemprop="url">Spring REST 4: @RestController</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 20:10:09 / Modified: 20:24:23" itemprop="dateCreated datePublished" datetime="2020-07-25T20:10:09-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <p><em>@Restcontroller</em></p>
<ul>
<li>Extension of <code>@Controller</code></li>
<li>Handles REST requests and response</li>
</ul>
<h1 id="Development-Process"><a href="#Development-Process" class="headerlink" title="Development Process"></a>Development Process</h1><h2 id="Maven-dependency-for-Spring-MVC-and-Jackson"><a href="#Maven-dependency-for-Spring-MVC-and-Jackson" class="headerlink" title="Maven dependency for Spring MVC and Jackson"></a>Maven dependency for Spring MVC and Jackson</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Add Jackson for JSON converters--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Add Spring MVC and REST support --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Add Servlet support for Spring's AbstracAnnotationConfigDispatcherServletInitializer --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="All-Java-Config-Configuration"><a href="#All-Java-Config-Configuration" class="headerlink" title="All Java Config: @Configuration"></a>All Java Config: @Configuration</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"com.xliu"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoAppConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="All-Java-Config-Servlet-Initializer"><a href="#All-Java-Config-Servlet-Initializer" class="headerlink" title="All Java Config: Servlet Initializer"></a>All Java Config: Servlet Initializer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySpringMvcDispatcherServletInitializer</span> <span class="keyword">extends</span> <span class="title">AbstractAnnotationConfigDispatcherServletInitializer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Class[]&#123;DemoAppConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String[]&#123;<span class="string">"/"</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Create-Spring-REST-Service-using-RestController"><a href="#Create-Spring-REST-Service-using-RestController" class="headerlink" title="Create Spring REST Service using @RestController"></a>Create Spring REST Service using @RestController</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoRestController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Address: <a href="http://localhost:8080/test/hello" target="_blank" rel="noopener">http://localhost:8080/test/hello</a></p>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-3-REST-over-HTTP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-3-REST-over-HTTP/" class="post-title-link" itemprop="url">Spring REST 3: REST over HTTP</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 20:00:32 / Modified: 20:09:41" itemprop="dateCreated datePublished" datetime="2020-07-25T20:00:32-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <ul>
<li>Leverage HTTP methods for CRUD operations<br>|Http Method|CRUD Operation|<br>| ——      | ——         |<br>|POST|Create a new entity|<br>|GET|Read a list of entities or single entity|<br>|PUT|Update an existing entity|<br>|DELETE|Delete an existing entity|</li>
</ul>
<h1 id="HTTP-Messages"><a href="#HTTP-Messages" class="headerlink" title="HTTP Messages"></a>HTTP Messages</h1><p>Client seds HTTP Request Message to Server then Server sends HTTP Response Message to Client.</p>
<h2 id="HTTP-Request-Message"><a href="#HTTP-Request-Message" class="headerlink" title="HTTP Request Message"></a>HTTP Request Message</h2><ul>
<li>Request line: the HTTP command<ul>
<li>get method / post method</li>
</ul>
</li>
<li>Header variables: request metadata<ul>
<li>basic information of request</li>
</ul>
</li>
<li>Message body: contents of message<h2 id="HTTP-Response-Message"><a href="#HTTP-Response-Message" class="headerlink" title="HTTP Response Message"></a>HTTP Response Message</h2></li>
<li>Request line: server protocol and status code<ul>
<li>200/404/500</li>
</ul>
</li>
<li>Header variables: response metadata<ul>
<li>content type of data(xml/JSON/…)</li>
</ul>
</li>
<li>Message body: contents of message</li>
</ul>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-2-POJO-JSON-Conversion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-2-POJO-JSON-Conversion/" class="post-title-link" itemprop="url">Spring REST 2: POJO JSON Conversion</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 19:44:32 / Modified: 19:57:51" itemprop="dateCreated datePublished" datetime="2020-07-25T19:44:32-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <h1 id="Spring-and-Jackson-Support"><a href="#Spring-and-Jackson-Support" class="headerlink" title="Spring and Jackson Support"></a>Spring and Jackson Support</h1><ul>
<li>When building Spring REST applications<ul>
<li>Spring will automatically handle Jackson Integration</li>
<li>JSON data being passed to REST controller is converted to POJO</li>
<li>Java object being returned from REST controller is converted to JSON<h1 id="Set-up"><a href="#Set-up" class="headerlink" title="Set up"></a>Set up</h1><h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="Create-Student-POJO-Java-Class"><a href="#Create-Student-POJO-Java-Class" class="headerlink" title="Create Student POJO Java Class"></a>Create Student POJO Java Class</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String firstName;</span><br><span class="line">	<span class="keyword">private</span> String lastName;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> active;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// Getters and Setters	</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Java-POJO-to-JSON"><a href="#Java-POJO-to-JSON" class="headerlink" title="Java POJO to JSON"></a>Java POJO to JSON</h2><h2 id="JSON-to-Java-POJO"><a href="#JSON-to-Java-POJO" class="headerlink" title="JSON to Java POJO"></a>JSON to Java POJO</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Driver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// create object mapper</span></span><br><span class="line">            <span class="comment">// ObjectMapper() from jackson.databind</span></span><br><span class="line">			ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// read JSON  file and map/convert to Java POJO: </span></span><br><span class="line">			<span class="comment">// data/sample-lite.json</span></span><br><span class="line">			Student theStudent = mapper.readValue(</span><br><span class="line">						<span class="keyword">new</span> File(<span class="string">"data/sample-lite.json"</span>), Student.class);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// print first name and last name</span></span><br><span class="line">			System.out.println(<span class="string">"First name = "</span> + theStudent.getFirstName());</span><br><span class="line">			System.out.println(<span class="string">"Last name = "</span> + theStudent.getLastName());</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span> (Exception exc) &#123;</span><br><span class="line">			exc.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If JSON has property you don’t care about, using<code>@JsonIgnoreProerties(ignoreUnknow=true)</code> over POJO</p>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-1-JSON/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-1-JSON/" class="post-title-link" itemprop="url">Spring REST 1: JSON</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 19:31:12 / Modified: 19:44:02" itemprop="dateCreated datePublished" datetime="2020-07-25T19:31:12-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <h1 id="What-is-JSON"><a href="#What-is-JSON" class="headerlink" title="What is JSON?"></a>What is JSON?</h1><ul>
<li>JavaScript Object Notation</li>
<li>Lightweight data format for storing and exchanging data</li>
<li>JSON is plain text data</li>
</ul>
<h1 id="JSON-Example"><a href="#JSON-Example" class="headerlink" title="JSON Example"></a>JSON Example</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Numbers: no quotes</span></span><br><span class="line">    <span class="string">"id"</span>: <span class="number">14</span>,</span><br><span class="line">    <span class="comment">// String: in double quotes</span></span><br><span class="line">    <span class="string">"firstName"</span>: <span class="string">"Mario"</span>,</span><br><span class="line">    <span class="string">"lastName"</span>: <span class="string">"Rossi"</span>,</span><br><span class="line">    <span class="comment">// Boolean: true / false </span></span><br><span class="line">    <span class="string">"active"</span>: <span class="literal">true</span></span><br><span class="line">    <span class="comment">// Nested JSON object</span></span><br><span class="line">    <span class="string">"address"</span>: &#123;</span><br><span class="line">        <span class="string">"steet"</span>: <span class="string">"100 Main St"</span>,</span><br><span class="line">        <span class="string">"city"</span>: <span class="string">"Philadelphia"</span>,</span><br><span class="line">        <span class="string">"state"</span>: <span class="string">"Pennsylvania"</span>,</span><br><span class="line">        <span class="string">"zip"</span>: <span class="string">"19103"</span>,</span><br><span class="line">        <span class="string">"country"</span>: <span class="string">"USA"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Array: use square brackets[...]</span></span><br><span class="line">    <span class="string">"languages"</span>: [<span class="string">"Java"</span>,<span class="string">"C#"</span>,<span class="string">"Python"</span>,<span class="string">"Javascript"</span>]</span><br><span class="line">    <span class="comment">// null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="JSON-Data-Binding"><a href="#JSON-Data-Binding" class="headerlink" title="JSON Data Binding"></a>JSON Data Binding</h1><ul>
<li>Data binding is the process of converting JSON data to a Java POJO, also know as Mapping, Serialization/Deserialization, Marshalling/Unmarshalling<h2 id="JSON-Data-Binding-with-Jackson"><a href="#JSON-Data-Binding-with-Jackson" class="headerlink" title="JSON Data Binding with Jackson"></a>JSON Data Binding with Jackson</h2></li>
<li>Spring uses the Jackson Project behind the scenes</li>
<li>Jackson handles data binding between JSON and Java POJO</li>
<li>By default, Jackson will call appropriate getter/setter method<ul>
<li>JSON to Java POJO<ul>
<li>call setter methods on POJO(automatically)</li>
</ul>
</li>
<li>Java POJO to JSON<ul>
<li>call getter methods on POJO(automatically)</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-REST-0-REST-Web-Service/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-REST-0-REST-Web-Service/" class="post-title-link" itemprop="url">Spring REST 0: REST Web Service</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 19:24:47 / Modified: 19:30:53" itemprop="dateCreated datePublished" datetime="2020-07-25T19:24:47-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <ul>
<li>REST: REpresentational State Transfer </li>
<li>It’s a lightweight approach for communicating between applications.</li>
<li>REST is language independent.</li>
<li>REST applications can use any data format<ul>
<li>Commonly see XML and JSON(most popular and modern)</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/25/Spring-Security-9-Password-Encryption/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/25/Spring-Security-9-Password-Encryption/" class="post-title-link" itemprop="url">Spring Security 9: Password Encryption</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-25 01:07:38 / Modified: 19:31:22" itemprop="dateCreated datePublished" datetime="2020-07-25T01:07:38-04:00">2020-07-25</time>
            </span>
          
            

            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <h1 id="bcrypt"><a href="#bcrypt" class="headerlink" title="bcrypt"></a>bcrypt</h1><ul>
<li>Performs one-way encrypted hashing</li>
<li>Adds a random salt to the password for additaional protection</li>
<li>Includes support to defeat brute force attacks</li>
</ul>
<h1 id="Spring-Security-Password-Storage"><a href="#Spring-Security-Password-Storage" class="headerlink" title="Spring Security Password Storage"></a>Spring Security Password Storage</h1><ul>
<li>In Spring Security 5, passwords are stored using a specific format.<ul>
<li>{bcrypt}encodedPassword</li>
<li>Password column must be at least 68 chars wide:<ul>
<li>{bcrypt} - 8 chars</li>
<li>encodedPassword - 60 chars</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Modify-DDL-for-Password-Field"><a href="#Modify-DDL-for-Password-Field" class="headerlink" title="Modify DDL for Password Field"></a>Modify DDL for Password Field</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`users`</span> (</span><br><span class="line">    <span class="string">`username`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="comment">-- Password column must be at least 68 chars wide:</span></span><br><span class="line">    <span class="string">`password`</span> <span class="built_in">char</span>(<span class="number">68</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`enabled`</span> <span class="built_in">tinyint</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line"></span><br><span class="line">    PRIMARY <span class="keyword">KEY</span>(<span class="string">`username`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1;</span><br></pre></td></tr></table></figure>
<h1 id="Spring-Security-Login-Porcess"><a href="#Spring-Security-Login-Porcess" class="headerlink" title="Spring Security Login Porcess"></a>Spring Security Login Porcess</h1><p>User enters plaintext password and go through Spring Security Filters</p>
<ol>
<li>Retrieve password from db for the user</li>
<li>Read the encoding algorithm id(bcrypt etc)</li>
<li>For case of bcrypt, encrypt plaintext password from login form(using salt from db password)</li>
<li>Compare encrypted password from login form WITH encrypted password from db</li>
<li>If there is a match, login successful</li>
<li>If no match, login NOT successful<br>Note: The password from db is NEVER decrypted, because bcrypt is a one-way encryption algorithm</li>
</ol>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaokeliu666.github.io/2020/07/24/Spring-Security-8-JDBC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feb 1997">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feb 1997">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2020/07/24/Spring-Security-8-JDBC/" class="post-title-link" itemprop="url">Spring Security 8: JDBC</a>
              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-07-24 23:11:11" itemprop="dateCreated datePublished" datetime="2020-07-24T23:11:11-04:00">2020-07-24</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-07-25 19:31:19" itemprop="dateModified" datetime="2020-07-25T19:31:19-04:00">2020-07-25</time>
              </span>
            
          

          <br/>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
            <p>Till now, we are using the in-memory data for studying purpose.<br>DemoSecurityConfig.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="comment">//        add our users for in memory authentication</span></span><br><span class="line">        UserBuilder users = User.withDefaultPasswordEncoder();</span><br><span class="line"></span><br><span class="line">        auth.inMemoryAuthentication()</span><br><span class="line">                .withUser(users.username(<span class="string">"john"</span>).password(<span class="string">"test123"</span>).roles(<span class="string">"EMPLOYEE"</span>))</span><br><span class="line">                .withUser(users.username(<span class="string">"mary"</span>).password(<span class="string">"test123"</span>).roles(<span class="string">"EMPLOYEE"</span>,<span class="string">"MANAGER"</span>))</span><br><span class="line">                .withUser(users.username(<span class="string">"susan"</span>).password(<span class="string">"test123"</span>).roles(<span class="string">"EMPLOYEE"</span>,<span class="string">"ADMIN"</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>And now, we will try to add database access.</p>
<h1 id="Database-Support-in-Spring-Security"><a href="#Database-Support-in-Spring-Security" class="headerlink" title="Database Support in Spring Security"></a>Database Support in Spring Security</h1><ul>
<li>Spring Security can read user account info from database</li>
<li>By default, you have to follow Spring Security’s predefined table schemas<h1 id="Development-Process"><a href="#Development-Process" class="headerlink" title="Development Process"></a>Development Process</h1></li>
</ul>
<ol>
<li><p>Develop SQL Script to set up databse tables<br>Spring Security has a default database schema, so you need to provide two tables, one call <code>users</code> and one call <code>authorities</code>. And you have to use these exact table names, and also these tables need to have these columns: username, password and enabled for users, and authorities is the username and authority(authority is the same thing as roles).</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`users`</span> (</span><br><span class="line">    <span class="string">`username`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`password`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`enabled`</span> <span class="built_in">tinyint</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line"></span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`username`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1;</span><br></pre></td></tr></table></figure>
<p>In Spring Security 5, passwords are stored using a specific format:<code>{id}encodedPassword</code></p>
<p> |  id   | Description  |<br> |  ——  | ——  |<br> | noop  | Plain text passwords |<br> | bcrypt  | BCrypt password hashing |</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span></span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">'john'</span>,<span class="string">'&#123;noop&#125;test123'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="string">'mary'</span>,<span class="string">'&#123;noop&#125;test123'</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="string">'susan'</span>,<span class="string">'&#123;noop&#125;test123'</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p> Note: the password is “test123” while the {noop} let Spring Security know the passwords are stored as plain text{noop}</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`authorities`</span> (</span><br><span class="line">    <span class="string">`username`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`authority`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">UNIQUE</span> <span class="keyword">KEY</span> <span class="string">`authorities_idx_1`</span> (<span class="string">`username`</span>,<span class="string">`authority`</span>),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> <span class="string">`authorities_ibfk_1`</span></span><br><span class="line">    <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`username`</span>)</span><br><span class="line">    <span class="keyword">REFERENCES</span> <span class="string">`users`</span>(<span class="string">`username`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`authorities`</span></span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">'john'</span>,<span class="string">'ROLE_EMPLOYEE'</span>),</span><br><span class="line">(<span class="string">'mary'</span>,<span class="string">'ROLE_EMPLOYEE'</span>),</span><br><span class="line">(<span class="string">'mary'</span>,<span class="string">'ROLE_MANAGER'</span>),</span><br><span class="line">(<span class="string">'susan'</span>,<span class="string">'ROLE_EMPLOYEE'</span>),</span><br><span class="line">(<span class="string">'susan'</span>,<span class="string">'ROLE_ADMIN'</span>);</span><br></pre></td></tr></table></figure>
<p>Note: Internally Spring Security uses “ROLE_” prefix</p>
</li>
<li><p>Add database support to Maven POM file<br>pom.xml:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Create JDBC properties file<br>src/main/resources/persistence-mysql.properties:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># JDBC connection properties</span><br><span class="line">#</span><br><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/spring_security_demo_plaintext?useSSL=false</span><br><span class="line">jdbc.user=root</span><br><span class="line">jdbc.password=pwd</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Connection poll properties</span><br><span class="line">#</span><br><span class="line">connection.pool.initialPoolSize=5</span><br><span class="line">connection.pool.minPoolSize=5</span><br><span class="line">connection.pool.maxPoolSize=20</span><br><span class="line">connection.pool.maxIdleTime=3000</span><br></pre></td></tr></table></figure>
</li>
<li><p>Define DataSource in Spring Configuration<br>DemoAppConfig.java:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"com.xliu.springsecurity.demo"</span>)</span><br><span class="line"><span class="comment">// src/main/resources files are automatically copied to classpath during Mavan build</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:persistence-mysql.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoAppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> Environment env;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Logger logger = Logger.getLogger(getClass().getName());</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">securityDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        create connection poll</span></span><br><span class="line">    ComboPooledDataSource securityDataSource = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line"><span class="comment">//        set the jdbc driver</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        securityDataSource.setDriverClass(env.getProperty(<span class="string">"jdbc.driver"</span>));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (PropertyVetoException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">    &#125;</span><br><span class="line">    logger.info(<span class="string">"&gt;&gt;&gt;&gt; jdbc.url="</span> + env.getProperty(<span class="string">"jdbc.url"</span>));</span><br><span class="line">    logger.info(<span class="string">"&gt;&gt;&gt;&gt; jdbc.user="</span> + env.getProperty(<span class="string">"jdbc.user"</span>));</span><br><span class="line"><span class="comment">//        set database connection props</span></span><br><span class="line">    securityDataSource.setJdbcUrl(env.getProperty(<span class="string">"jdbc.url"</span>));</span><br><span class="line">    securityDataSource.setUser(env.getProperty(<span class="string">"jdbc.user"</span>));</span><br><span class="line">    securityDataSource.setPassword(env.getProperty(<span class="string">"jdbc.password"</span>));</span><br><span class="line"><span class="comment">//        set connection pool props</span></span><br><span class="line">    securityDataSource.setInitialPoolSize(Integer.parseInt(env.getProperty(<span class="string">"connection.pool.initialPoolSize"</span>)));</span><br><span class="line">    securityDataSource.setMinPoolSize(Integer.parseInt(env.getProperty(<span class="string">"connection.pool.minPoolSize"</span>)));</span><br><span class="line">    securityDataSource.setMaxPoolSize(Integer.parseInt(env.getProperty(<span class="string">"connection.pool.maxPoolSize"</span>)));</span><br><span class="line">    securityDataSource.setMaxIdleTime(Integer.parseInt(env.getProperty(<span class="string">"connection.pool.maxIdleTime"</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> securityDataSource;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> Environment is a Spring helper class to hold the data that was read from the properties file</p>
</li>
<li>Update Spring Security Configuration to use JDBC<br>DemoSecurityConfig.java:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"><span class="comment">//    Inject our data source that we just configured</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSource securityDataSource;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="comment">//        Tell Spring Security to use JDBC authentication with our data source</span></span><br><span class="line">        auth.jdbcAuthentication().dataSource(securityDataSource);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Here we no longer use hard-coding users.</p>

          
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
    </footer>
  </div>
  
  
  
  </article>

    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.jpg"
      alt="Feb 1997">
  <p class="site-author-name" itemprop="name">Feb 1997</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">104</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feb 1997</span>
</div>

        








        
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
      </div>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  <script src="/js/utils.js?v=7.2.0"></script>
  <script src="/js/motion.js?v=7.2.0"></script>

  
  <script src="/js/affix.js?v=7.2.0"></script>
  <script src="/js/schemes/pisces.js?v=7.2.0"></script>


  

  <script src="/js/next-boot.js?v=7.2.0"></script>

  

  

  


  





  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  



















  <script src="/js/local-search.js?v=7.2.0"></script>














</body>
</html>
